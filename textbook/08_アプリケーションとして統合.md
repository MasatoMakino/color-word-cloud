# ワードクラウドアプリケーションとして統合する

この章では、色彩語、色データ、トレンド値を統合してアプリケーションを完成させます。

    修正 : 色彩語リストを更新。件数増加に伴い、フォントサイズとカンバスサイズを調整。	c834304	2020/02/24 12:03

この章ではこのコミットまでを対象とします。

## Trends APIで取得したJSONファイルを読み込む

前章で生成したGoogle Trends APIの検索結果ファイルを読み込みます。

`src/ListLoader.js`というJavaScriptファイルを新規に作成します。このJavaScriptファイルには、trend.jsonをファイルから読み込む`loadTrends`関数と、読み込んだJSONデータをwordcloud用のリストデータに変換する`getList`関数があります。

`src/index.js`でWordCloudパッケージを初期化する際に、この`ListLoader.getList`関数を利用します。これで、WordCloudで使用されるリストデータがtrends.jsonのものになります。

```js
import { loadTrends, getList } from "./ListLoader";

async function main() {
  WordCloud(document.getElementById("cloud_canvas"), {
    ...(中略)...
    list: getList(),
          ^^^^^^^
    ...(中略)...
  });
}
```

## 色彩語リストを読み込む

次に「外部JSONの作詞絵と読み込み」の章で解説した、16進数の色データを読み込みます。こちらはすでに`getColor`関数が存在しますので、この関数をそのまま利用します。

```js
import { load, getColor } from "./SheetLoader";

async function main() {
  WordCloud(document.getElementById("cloud_canvas"), {
    ...(中略)...
    color: getColor,
    ...(中略)...
  });
}
```

これでGoogle Trends APIの検索結果と、外部JSONファイルの色データが合成できました。

## 色彩語データとトレンドデータを統合

## wordcloudにデータを渡す

## 描画

* * *

## 応用

### 研究の狙いをより明確にするために、どう描画設定をすべきか？

### 時系列を表現する方法はないか？
